<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
  <title>1ë¶„ í´ë¦­ ì±Œë¦°ì§€</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Nanum+Gothic:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', 'Nanum Gothic', Arial, sans-serif;
      background: linear-gradient(135deg, #f9d1d1 0%, #f9e0d1 40%, #d1e9f9 100%);
      margin: 0; padding: 0;
      min-height: 100vh;
      display: flex; flex-direction: column; align-items: center;
    }
    .container {
      margin-top: 15vh;
      background: rgba(255,255,255,0.95);
      border-radius: 32px;
      box-shadow: 0 8px 32px #0002, 0 1.5px 0 #fff8 inset;
      padding: 40px 28px 32px 28px;
      width: 100%; max-width: 370px;
      display: flex; flex-direction: column; align-items: center;
      transition: box-shadow 0.2s;
    }
    h1 {
      font-family: 'Montserrat', 'Nanum Gothic', Arial, sans-serif;
      font-size: 2em;
      margin-bottom: 18px;
      background: linear-gradient(90deg, #ff7eb3 0%, #ff758c 100%);
      color: transparent;
      -webkit-background-clip: text;
      background-clip: text;
      font-weight: 700;
      letter-spacing: -1px;
    }
    .hidden { display: none; }
    input[type="text"] {
      width: 100%; padding: 13px; font-size: 1.1em;
      border: none; border-radius: 16px;
      background: #f3f3f3;
      box-shadow: 0 2px 8px #0001 inset;
      margin-bottom: 18px;
      outline: none;
      transition: box-shadow 0.2s;
    }
    input[type="text"]:focus {
      box-shadow: 0 0 0 2px #ffb3c6;
    }
    button {
      width: 100%; padding: 15px; font-size: 1.15em;
      background: linear-gradient(90deg, #ffb3c6 0%, #b5ead7 100%);
      color: #333; border: none; border-radius: 18px;
      font-weight: 700;
      box-shadow: 0 2px 8px #0001;
      cursor: pointer; margin-bottom: 10px;
      transition: background 0.2s, box-shadow 0.2s, color 0.2s;
      letter-spacing: 0.5px;
    }
    button:active {
      background: linear-gradient(90deg, #b5ead7 0%, #ffb3c6 100%);
      color: #222;
      box-shadow: 0 1px 2px #0002;
    }
    .big-btn {
      width: 100%; height: 90px; font-size: 2.1em;
      background: linear-gradient(90deg, #f9d1d1 0%, #f9e0d1 100%);
      color: #ff758c;
      border-radius: 24px;
      margin: 22px 0 12px 0; border: none;
      font-family: 'Montserrat', 'Nanum Gothic', Arial, sans-serif;
      font-weight: 700;
      box-shadow: 0 4px 16px #ffb3c655, 0 1.5px 0 #fff8 inset;
      transition: background 0.15s, color 0.15s;
    }
    .big-btn:active {
      background: linear-gradient(90deg, #ffb3c6 0%, #b5ead7 100%);
      color: #ff7eb3;
    }
    .info {
      font-size: 1.15em; margin: 10px 0; color: #555;
      font-family: 'Nanum Gothic', Arial, sans-serif;
    }
    .result {
      font-size: 1.4em; margin: 20px 0; color: #ff758c;
      font-family: 'Montserrat', 'Nanum Gothic', Arial, sans-serif;
      font-weight: 700;
    }
    .ranking {
      margin-top: 28px;
      width: 100%;
      background: #f9e0d1cc;
      border-radius: 18px;
      box-shadow: 0 2px 8px #ffb3c622;
      padding: 18px 10px 10px 10px;
    }
    .ranking-title {
      font-weight: bold; margin-bottom: 10px; color: #ff7eb3;
      font-family: 'Montserrat', 'Nanum Gothic', Arial, sans-serif;
      font-size: 1.1em;
    }
    ol {
      padding-left: 20px; margin: 0 0 8px 0;
    }
    ol li {
      font-size: 1.08em; margin-bottom: 3px; color: #333;
      font-family: 'Nanum Gothic', Arial, sans-serif;
      padding: 2px 0;
    }
    #showAllBtn {
      background: linear-gradient(90deg, #b5ead7 0%, #ffb3c6 100%);
      color: #555;
      font-size: 1em;
      margin-top: 8px;
      border-radius: 12px;
      box-shadow: none;
      padding: 10px;
    }
    #showAllBtn:active {
      background: linear-gradient(90deg, #ffb3c6 0%, #b5ead7 100%);
      color: #222;
    }
    /* ê¸°ë³¸: PCìš© UIë§Œ ë³´ì„ */
    .mobile-ui { display: none; }
    .pc-ui { display: block; }

    /* ëª¨ë°”ì¼(500px ì´í•˜)ì—ì„œëŠ” ë°˜ëŒ€ë¡œ! */
    @media (max-width: 500px) {
      .mobile-ui { display: block; }
      .pc-ui { display: none; }
      .container {
        padding: 10px 2vw;
        margin-top: 7vh;
        max-width: 98vw;
        border-radius: 18px;
      }
      h1 {
        font-size: 1.2em; /* 1.2em = 19.2px (ê¸°ë³¸ 16px ê¸°ì¤€) */
        margin-bottom: 10px;
      }
      input[type="text"] {
        font-size: 1.1em; /* 1.1em = 17.6px */
        padding: 10px;
        border-radius: 10px;
        margin-bottom: 12px;
      }
      button, .big-btn {
        font-size: 1.1em; /* 1.1em = 17.6px */
        padding: 12px;
        border-radius: 12px;
        height: auto;
        min-height: 44px;
        margin: 10px 0;
      }
      .big-btn {
        font-size: 1.3em; /* 1.3em = 20.8px */
        height: 48px;
        margin: 14px 0 8px 0;
      }
      .info, .result, .ranking-title, ol li {
        font-size: 1.05em; /* 16.8px */
      }
      .ranking {
        padding: 10px 4px 6px 4px;
        border-radius: 10px;
      }
    }
    .input-group {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 0;
    }
    .input-group input[type="text"] {
      width: 100%;
      box-sizing: border-box;
      margin-bottom: 32px; /* ì›í•˜ëŠ” ë§Œí¼ ìˆ«ìë¥¼ ëŠ˜ë ¤ì£¼ì„¸ìš” */
    }
    .input-group button {
      width: 100%;
      box-sizing: border-box;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- ì´ë¦„ ì…ë ¥ í™”ë©´ -->
    <div id="nameScreen">
      <h1>ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”</h1>
      <div class="input-group">
        <input type="text" id="userName" maxlength="10" placeholder="ì´ë¦„ (í•„ìˆ˜)" autocomplete="off" />
        <button id="nextBtn">ë‹¤ìŒ</button>
      </div>
    </div>
    <!-- ì¤€ë¹„ í™”ë©´ -->
    <div id="readyScreen" class="hidden">
      <h1>ì¤€ë¹„ ë˜ì…¨ë‚˜ìš”?</h1>
      <button id="startBtn">ì‹œì‘</button>
    </div>
    <!-- ê²Œì„ í™”ë©´ -->
    <div id="gameScreen" class="hidden">
      <h1>1ë¶„ í´ë¦­ ì±Œë¦°ì§€</h1>
      <div class="info"><span id="timer">60</span>ì´ˆ ë‚¨ìŒ</div>
      <div class="info">í´ë¦­ ìˆ˜: <span id="clickCount">0</span></div>
      <div id="characterArea" style="height:60px; margin-bottom:10px; text-align:center;">
        <span id="character" style="font-size:2.5em; display:inline-block; transition:transform 0.25s cubic-bezier(.5,-0.5,.5,1.7);">ğŸ°</span>
      </div>
      <button id="clickBtn" class="big-btn">í´ë¦­!</button>
    </div>
    <!-- ê²°ê³¼/ë­í‚¹ í™”ë©´ -->
    <div id="resultScreen" class="hidden">
      <h1>ê²°ê³¼</h1>
      <div class="result" id="resultMsg"></div>
      <button id="retryBtn">ë‹¤ì‹œí•˜ê¸°</button>
      <div class="ranking">
        <div class="ranking-title">ë‚´ ë¸Œë¼ìš°ì € ë­í‚¹ TOP 3</div>
        <ol id="rankingList"></ol>
        <button id="showAllBtn" style="margin-top:8px; font-size:0.98em;">ëª¨ë“  ë­í‚¹ ë³´ê¸°</button>
      </div>
      <div style="margin-top:12px; font-size:0.95em; color:#888; text-align:center;">ê²°ê³¼ í™”ë©´ì„ ìº¡ì²˜í•´ì„œ ì¸ìŠ¤íƒ€ì— ê³µìœ í•´ë³´ì„¸ìš”!</div>
    </div>
  </div>
  <script>
    // ìƒíƒœ ë³€ìˆ˜
    let userName = '';
    let clickCount = 0;
    let timer = 60;
    let timerId = null;
    let gameActive = false;
    let showAll = false;

    // DOM ìš”ì†Œ
    const nameScreen = document.getElementById('nameScreen');
    const readyScreen = document.getElementById('readyScreen');
    const gameScreen = document.getElementById('gameScreen');
    const resultScreen = document.getElementById('resultScreen');
    const userNameInput = document.getElementById('userName');
    const nextBtn = document.getElementById('nextBtn');
    const startBtn = document.getElementById('startBtn');
    const clickBtn = document.getElementById('clickBtn');
    const timerSpan = document.getElementById('timer');
    const clickCountSpan = document.getElementById('clickCount');
    const resultMsg = document.getElementById('resultMsg');
    const retryBtn = document.getElementById('retryBtn');
    const rankingList = document.getElementById('rankingList');
    const showAllBtn = document.getElementById('showAllBtn');
    const character = document.getElementById('character');
    const characterList = ['ğŸ°', 'ğŸ±', 'ğŸ¦Š', 'ğŸ»', 'ğŸ¶', 'ğŸ¦', 'ğŸµ', 'ğŸ¸', 'ğŸ¼', 'ğŸ§', 'ğŸ¦„'];
    let lastCharacterIdx = 0;

    // ì´ë¦„ ì…ë ¥ â†’ ì¤€ë¹„
    nextBtn.onclick = () => {
      const name = userNameInput.value.trim();
      // 1. ì´ë¦„ì´ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸
      if (!name) {
        alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
        userNameInput.focus();
        return;
      }
      // 2. ë¶€ì ì ˆí•œ ë‹¨ì–´ í•„í„°ë§
      const bannedWords = [
        'fuck', 'shit', 'bitch', 'asshole', 'dick', 'piss', 'cunt', 'sex', 'porn', 'nigger', 'fag', 'retard',
        'ì‹œë°œ', 'ì”¨ë°œ', 'ë³‘ì‹ ', 'ã……ã…‚', 'ã…‚ã……', 'ì¢†', 'ì• ë¯¸', 'ì• ë¹„', 'êº¼ì ¸', 'ì£½ì–´', 'ì„¹ìŠ¤', 'ìì‚´', 'fuckyou', 'fuck you',
        'ê°œìƒˆ', 'ê°œë…„', 'ì¡´ë‚˜', 'ã…ˆã„´', 'ã…—', 'ã…‰', 'ã…ˆã„¹', 'ã…‚ã……', 'ã…„', 'ã…†', 'ã……ã„²', 'ã……ë¼', 'ã……ã„±', 'ã……ã„²', 'ã……ã…‚', 'ã…†ã…‚',
        'bastard', 'damn', 'idiot', 'moron', 'stupid', 'dumb', 'fool', 'jerk', 'loser',
        'slut', 'whore', 'pussy', 'cock', 'cum', 'suck', 'boob', 'tit', 'nude', 'naked',
        'gay', 'lesbian', 'rape', 'kill', 'murder', 'terror', 'terrorist', 'isis', 'hitler', 'nazi', 'kkk',
        'fuckin', 'fucking', 'fuk', 'fck', 'fckin', 'fcking', 'fukin', 'fuking',
        'í¬ë¥´ë…¸', 'ì•¼ë™', 'ììœ„', 'ë”¸ë”¸', 'ë”¸ë”¸ì´', 'ì£½ìŒ', 'ì£½ì¸ë‹¤', 'ì£½ì´ê³ ', 'ì£½ì´ê³ ì‹¶ë‹¤',
        'suicide', 'ì£½ê³ ', 'ì£½ì', 'ì£½ì„', 'ì£½ì—¬', 'ì£½ì—¬ë¼', 'ì£½ì—¬ë²„ë ¤','ë°œê¸°',
        'ë¹¨ë”±', 'ë°œê¸°ë¬¸', 'ë¹¨ê¸°ë¬¸'
      ];
      const lowerName = name.toLowerCase();
      const hasBanned = bannedWords.some(word => lowerName.includes(word));
      if (hasBanned) {
        alert('ë¶€ì ì ˆí•œ ì´ë¦„ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        userNameInput.value = '';
        userNameInput.focus();
        return;
      }
      // 3. ì´ìŠ¤í„°ì—ê·¸: 'ë°˜ê¸°ë¬¸' ì…ë ¥ ì‹œ 'ìš´ì˜ì'ë¡œ ì´ë¦„ ë³€ê²½
      if (name === 'ë°˜ê¸°ë¬¸') {
        userName = 'ìš´ì˜ì';
      } else {
        userName = name;
      }
      nameScreen.classList.add('hidden');
      readyScreen.classList.remove('hidden');
      startBtn.focus();
    };
    // ì¤€ë¹„ â†’ ê²Œì„ ì‹œì‘
    startBtn.onclick = () => {
      readyScreen.classList.add('hidden');
      gameScreen.classList.remove('hidden');
      startGame();
    };
    // ê²Œì„ ì‹œì‘
    function startGame() {
      clickCount = 0;
      timer = 60;
      gameActive = true;
      clickCountSpan.textContent = clickCount;
      timerSpan.textContent = timer;
      clickBtn.disabled = false;
      clickBtn.focus();
      timerId = setInterval(() => {
        timer--;
        timerSpan.textContent = timer;
        if (timer <= 0) {
          endGame();
        }
      }, 1000);
    }
    // í´ë¦­ ë²„íŠ¼
    clickBtn.onclick = () => {
      if (!gameActive) return;
      clickCount++;
      clickCountSpan.textContent = clickCount;
      // ë§¤ í´ë¦­ë§ˆë‹¤ ìƒˆë¡œìš´ ì˜¤ë””ì˜¤ ê°ì²´ë¡œ ì‚¬ìš´ë“œ ì¬ìƒ
      try {
        const coinSound = new Audio('coin.mp3');
        coinSound.volume = 0.7;
        coinSound.play();
      } catch(e) {}
      // ìºë¦­í„° ì í”„ ì• ë‹ˆë©”ì´ì…˜
      character.style.transform = 'translateY(-40px) scale(1.2)';
      setTimeout(() => {
        character.style.transform = 'translateY(0) scale(1)';
      }, 250);
      // 10ë²ˆë§ˆë‹¤ ìºë¦­í„° ë³€ê²½
      if (clickCount % 10 === 0) {
        lastCharacterIdx = (lastCharacterIdx + 1) % characterList.length;
        character.textContent = characterList[lastCharacterIdx];
      }
    };
    // ê²Œì„ ì¢…ë£Œ
    function endGame() {
      clearInterval(timerId);
      gameActive = false;
      clickBtn.disabled = true;
      gameScreen.classList.add('hidden');
      resultScreen.classList.remove('hidden');
      resultMsg.textContent = `${userName}ë‹˜ì˜ 1ë¶„ í´ë¦­ ìˆ˜: ${clickCount}íšŒ`;
      saveRanking(userName, clickCount);
      renderRanking(false);
    }
    // ë­í‚¹ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸° (ë¡œì»¬)
    function saveRanking(name, score) {
      let ranking = JSON.parse(localStorage.getItem('clickRanking') || '[]');
      ranking.push({ name, score });
      ranking.sort((a, b) => b.score - a.score);
      localStorage.setItem('clickRanking', JSON.stringify(ranking));
    }
    function renderRanking(forceAll) {
      let ranking = JSON.parse(localStorage.getItem('clickRanking') || '[]');
      rankingList.innerHTML = '';
      let displayCount = (showAll || forceAll) ? ranking.length : Math.min(3, ranking.length);
      ranking.slice(0, displayCount).forEach((item, idx) => {
        const li = document.createElement('li');
        li.textContent = `${idx + 1}ë“± ${item.name} - ${item.score}íšŒ`;
        rankingList.appendChild(li);
      });
      if (ranking.length > 3) {
        showAllBtn.style.display = '';
        showAllBtn.textContent = showAll ? 'ê°„ë‹¨íˆ ë³´ê¸°' : 'ëª¨ë“  ë­í‚¹ ë³´ê¸°';
      } else {
        showAllBtn.style.display = 'none';
      }
    }
    showAllBtn.onclick = () => {
      showAll = !showAll;
      renderRanking();
    };
    // ë‹¤ì‹œí•˜ê¸°
    retryBtn.onclick = () => {
      resultScreen.classList.add('hidden');
      readyScreen.classList.remove('hidden');
      showAll = false;
    };
    // ì—”í„°ë¡œ ì´ë¦„ ì…ë ¥ ì‹œ ë‹¤ìŒ
    userNameInput.addEventListener('keydown', e => {
      if (e.key === 'Enter') nextBtn.click();
    });

    // ë­í‚¹ ì´ˆê¸°í™”(ì œì‘ìë§Œ ì•Œ ìˆ˜ ìˆê²Œ)
    // Shift+Ctrl+R í‚¤ë¥¼ ëˆ„ë¥´ë©´ ë­í‚¹ ì´ˆê¸°í™”
    document.addEventListener('keydown', function(e) {
      if (e.shiftKey && e.ctrlKey && e.key.toLowerCase() === 'r') {
        if (confirm('ì •ë§ ë­í‚¹ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
          localStorage.removeItem('clickRanking');
          alert('ë­í‚¹ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤!');
          renderRanking(false);
        }
      }
    });

    // ì œì‘ììš©: Shift+Ctrl+Eë¥¼ ëˆ„ë¥´ë©´ ê²Œì„ ì¦‰ì‹œ ì¢…ë£Œ(ê²°ê³¼ í™”ë©´ ë³´ê¸°)
    document.addEventListener('keydown', function(e) {
      if (e.shiftKey && e.ctrlKey && e.key.toLowerCase() === 'e') {
        if (gameActive) {
          endGame();
        }
      }
    });
  </script>
</body>
</html> 